{% extends 'library/base.html' %}
{% load widget_tweaks %}

{% block title %}Ajouter un Livre - Bibliothèque{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto py-12 px-6">
    <!-- En-tête -->
    <div class="text-center mb-10">
        <div class="relative inline-flex items-center justify-center w-24 h-24 rounded-2xl shadow-lg bg-gradient-to-br from-blue-500 to-purple-600 text-white mb-4">
            <i class="fas fa-book-medical text-5xl"></i>
            <div class="absolute -top-2 -right-2 bg-white text-blue-500 rounded-full w-7 h-7 flex items-center justify-center shadow-md text-lg font-bold">+</div>
        </div>
        <h1 class="text-4xl font-bold tracking-tight">Ajouter un Nouveau Livre</h1>
        <p class="text-gray-500 mt-2 text-base">Remplissez les informations ci-dessous pour enregistrer un nouveau livre</p>
    </div>

    <!-- Formulaire -->
    <form method="post" class="bg-gray shadow-xl rounded-2xl p-8 border border-blue-500 space-y-8">
        {% csrf_token %}
        
        <!-- Champ : Titre -->
        <div class="space-y-2">
            <label class="block font-semibold text-white">
                <i class="fas fa-heading mr-2 text-blue-400"></i>Titre du livre
            </label>
            {{ form.title|add_class:"input input-bordered w-full focus:ring-2 focus:ring-blue-400 focus:outline-none" }}
            {% if form.title.errors %}
                <p class="text-sm text-red-500 mt-1">{{ form.title.errors.0 }}</p>
            {% else %}
                <p class="text-xs text-gray-500">Entrez le titre complet du livre.</p>
            {% endif %}
        </div>

        <!-- Champ : Auteur -->
        <div class="space-y-2">
            <label class="block font-semibold text-white">
                <i class="fas fa-user-edit mr-2 text-green-400"></i>Auteur
            </label>
            {{ form.author|add_class:"input input-bordered w-full focus:ring-2 focus:ring-green-400 focus:outline-none" }}
            {% if form.author.errors %}
                <p class="text-sm text-red-500 mt-1">{{ form.author.errors.0 }}</p>
            {% else %}
                <p class="text-xs text-gray-500">Indiquez le nom de l’auteur du livre.</p>
            {% endif %}
        </div>

        <!-- Champ : Année -->
        <div class="space-y-2">
            <label class="block font-semibold text-white">
                <i class="fas fa-calendar-alt mr-2 text-purple-400"></i>Année de publication
            </label>
            {{ form.year|add_class:"input input-bordered w-full focus:ring-2 focus:ring-purple-400 focus:outline-none" }}
            {% if form.year.errors %}
                <p class="text-sm text-red-500 mt-1">{{ form.year.errors.0 }}</p>
            {% else %}
                <p class="text-xs text-gray-500">L’année doit être un nombre valide (ex: 2023).</p>
            {% endif %}
        </div>

        <!-- Info Box -->
        <div class="flex items-start gap-3 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-4 text-sm shadow-sm">
            <div class="text-blue-600 text-xl"><i class="fas fa-info-circle"></i></div>
            <div>
                <h4 class="font-semibold text-blue-700">Important</h4>
                <p class="text-blue-600">Assurez-vous que le titre et l’auteur sont corrects pour éviter les doublons.</p>
            </div>
        </div>

        <div class="border-t border-gray-200 pt-6"></div>

        <!-- Boutons -->
        <div class="flex flex-col sm:flex-row gap-4">
            <button type="submit" class="flex-1 btn bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:from-blue-600 hover:to-purple-600 transition-all shadow-md text-lg py-3">
                <i class="fas fa-save mr-2"></i>
                Enregistrer le livre
            </button>
            <a href="{% url 'library:book_list' %}" class="flex-1 btn bg-gray-100 text-gray-700 hover:bg-gray-200 transition-all py-3">
                <i class="fas fa-times mr-2"></i>
                Annuler
            </a>
        </div>
    </form>
</div>
{% endblock %}
